#!/usr/bin/env node
const commandLineArgs = require("command-line-args");
const getUsage = require("command-line-usage");

const IndexController = require("../lib/Controller/IndexController").default;
const menu = require("../lib/Model/Menu").default;
const Args = require("../lib/Model/Args").default;

let args = new Args(commandLineArgs(menu[1]["optionList"]));

if (args.shouldShowHelp()) {
    console.log(getUsage(menu));
} else {
    if (args.verbose) {
        console.log("\nStarting Site Index");
    }
    let indexController = new IndexController(args);
    indexController.start().then();
}
