{"version":3,"sources":["../../src/Repository/CsvUrlsRepository.js"],"names":["require","parse","CsvUrlsRepository","constructor","file","save","urls","fields","opts","Promise","resolve","data"],"mappings":";;;;;;;AACA;;AACA;;;;iBACkBA,OAAO,CAAC,UAAD,C;MAAjBC,K,YAAAA,K;AAER;;;;;AAGe,MAAMC,iBAAN,CAAwB;AACnC;;;AAKAC,EAAAA,WAAW,CAACC,IAAD,EAAe;AACtB,SAAKA,IAAL,GAAYA,IAAZ;AACH;AAED;;;;;AAGAC,EAAAA,IAAI,CAACC,IAAD,EAA4B;AAC5B,UAAMC,MAAM,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,UAAhB,CAAf;AACA,UAAMC,IAAI,GAAG;AAAED,MAAAA;AAAF,KAAb;AACA,WAAO,IAAIE,OAAJ,CAAYC,OAAO,IAAI;AAC1B,YAAMC,IAAI,GAAGV,KAAK,CAACK,IAAD,EAAOE,IAAP,CAAlB;AACA,6BAAc,KAAKJ,IAAnB,EAAyBO,IAAzB;AACAD,MAAAA,OAAO;AACV,KAJM,CAAP;AAKH;;AArBkC","sourcesContent":["// @flow\nimport {writeFileSync} from \"fs\";\nimport Url from \"../Model/Url.js\";\nconst { parse } = require('json2csv');\n\n/**\n * Save the urls to a json file.\n */\nexport default class CsvUrlsRepository {\n    /**\n     * Build a json url repo.\n     */\n    file: string;\n\n    constructor(file: string) {\n        this.file = file;\n    }\n\n    /**\n     * Save urls to a json file.\n     */\n    save(urls: Url[]): Promise<any> {\n        const fields = ['name', 'url', 'fragment'];\n        const opts = { fields };\n        return new Promise(resolve => {\n            const data = parse(urls, opts);\n            writeFileSync(this.file, data);\n            resolve();\n        });\n    }\n}\n"],"file":"CsvUrlsRepository.js"}