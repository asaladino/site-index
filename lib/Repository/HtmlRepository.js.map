{"version":3,"sources":["../../src/Repository/HtmlRepository.js"],"names":["HtmlRepository","constructor","projectFolder","save","url","html","file","getProjectsHtmlFolder","name","Promise","resolve","projectsPathHtml"],"mappings":";;;;;;;AACA;;AACA;;AACA;;;;AAEA;;;AAGe,MAAMA,cAAN,CAAqB;AAClC;;;;AAKA;;;AAGAC,EAAAA,WAAW,CAACC,aAAD,EAAwB;AACjC,SAAKA,aAAL,GAAqBA,aAArB;AACD;AAED;;;;;AAGAC,EAAAA,IAAI,CAACC,GAAD,EAAWC,IAAX,EAAuC;AACzC,UAAMC,IAAI,GAAG,gBAAK,KAAKC,qBAAL,EAAL,EAAmCH,GAAG,CAACI,IAAJ,GAAW,OAA9C,CAAb;AACA,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC5B,6BAAcJ,IAAd,EAAoBD,IAApB;AACAK,MAAAA,OAAO;AACR,KAHM,CAAP;AAID;AAED;;;;;AAGAH,EAAAA,qBAAqB,GAAW;AAC9B,QAAII,gBAAgB,GAAG,gBAAK,KAAKT,aAAV,EAAyB,MAAzB,CAAvB;;AACA,QAAI,CAAC,oBAAWS,gBAAX,CAAL,EAAmC;AACjC,yBAAUA,gBAAV;AACD;;AACD,WAAOA,gBAAP;AACD;;AAjCiC","sourcesContent":["// @flow\r\nimport { writeFileSync, existsSync, mkdirSync } from \"fs\";\r\nimport Url from \"../Model/Url\";\r\nimport { join } from \"path\";\r\n\r\n/**\r\n * Save the url html to file.\r\n */\r\nexport default class HtmlRepository {\r\n  /**\r\n   * Location to the html folder in the project.\r\n   */\r\n  projectFolder: string;\r\n\r\n  /**\r\n   * Build a json url repo.\r\n   */\r\n  constructor(projectFolder: string) {\r\n    this.projectFolder = projectFolder;\r\n  }\r\n\r\n  /**\r\n   * Save html to a file.\r\n   */\r\n  save(url: Url, html: string): Promise<any> {\r\n    const file = join(this.getProjectsHtmlFolder(), url.name + \".html\");\r\n    return new Promise(resolve => {\r\n      writeFileSync(file, html);\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Creates the html folder in the project if it doesn't exist.\r\n   */\r\n  getProjectsHtmlFolder(): string {\r\n    let projectsPathHtml = join(this.projectFolder, \"html\");\r\n    if (!existsSync(projectsPathHtml)) {\r\n      mkdirSync(projectsPathHtml);\r\n    }\r\n    return projectsPathHtml;\r\n  }\r\n}\r\n"],"file":"HtmlRepository.js"}