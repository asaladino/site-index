{"version":3,"sources":["../../src/Repository/HeadersRepository.js"],"names":["writeFileSync","existsSync","mkdirSync","Url","join","HeadersRepository","constructor","projectFolder","save","url","headers","file","getProjectsHeadersFolder","name","Promise","resolve","JSON","stringify","projectsPathHeaders"],"mappings":"AACA,SAAQA,aAAR,EAAuBC,UAAvB,EAAmCC,SAAnC,QAAmD,IAAnD;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,SAAQC,IAAR,QAAmB,MAAnB;AAEA;;;;AAGA,eAAe,MAAMC,iBAAN,CAAwB;AACnC;;;;AAKA;;;AAGAC,EAAAA,WAAW,CAACC,aAAD,EAAwB;AAC/B,SAAKA,aAAL,GAAqBA,aAArB;AACH;AAED;;;;;AAGAC,EAAAA,IAAI,CAACC,GAAD,EAAWC,OAAX,EAAuC;AACvC,UAAMC,IAAI,GAAGP,IAAI,CAAC,KAAKQ,wBAAL,EAAD,EAAkCH,GAAG,CAACI,IAAJ,GAAW,OAA7C,CAAjB;AACA,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;AAC1Bf,MAAAA,aAAa,CAACW,IAAD,EAAOK,IAAI,CAACC,SAAL,CAAeP,OAAf,CAAP,CAAb;AACAK,MAAAA,OAAO;AACV,KAHM,CAAP;AAIH;AAED;;;;;AAGAH,EAAAA,wBAAwB,GAAW;AAC/B,QAAIM,mBAAmB,GAAGd,IAAI,CAAC,KAAKG,aAAN,EAAqB,SAArB,CAA9B;;AACA,QAAI,CAACN,UAAU,CAACiB,mBAAD,CAAf,EAAsC;AAClChB,MAAAA,SAAS,CAACgB,mBAAD,CAAT;AACH;;AACD,WAAOA,mBAAP;AACH;;AAjCkC","sourcesContent":["// @flow\nimport {writeFileSync, existsSync, mkdirSync} from \"fs\";\nimport Url from \"../Model/Url.js\";\nimport {join} from \"path\";\n\n/**\n * Save the url html to file.\n */\nexport default class HeadersRepository {\n    /**\n     * Location to the headers folder in the project.\n     */\n    projectFolder: string;\n\n    /**\n     * Build a json url repo.\n     */\n    constructor(projectFolder: string) {\n        this.projectFolder = projectFolder;\n    }\n\n    /**\n     * Save html to a file.\n     */\n    save(url: Url, headers: any): Promise<any> {\n        const file = join(this.getProjectsHeadersFolder(), url.name + \".json\");\n        return new Promise(resolve => {\n            writeFileSync(file, JSON.stringify(headers));\n            resolve();\n        });\n    }\n\n    /**\n     * Creates the html folder in the project if it doesn't exist.\n     */\n    getProjectsHeadersFolder(): string {\n        let projectsPathHeaders = join(this.projectFolder, \"headers\");\n        if (!existsSync(projectsPathHeaders)) {\n            mkdirSync(projectsPathHeaders);\n        }\n        return projectsPathHeaders;\n    }\n}\n"],"file":"HeadersRepository.js"}